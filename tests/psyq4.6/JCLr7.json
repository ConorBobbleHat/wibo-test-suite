{"compiler": "psyq4.6", "compiler_flags": "-O2 -G4", "source_code": "typedef struct _struct_80072ae4 {\n    u8 pad00[0x10];\n    u16 unk10;\n} struct_80072ae4;\n\n\ntypedef struct _XMDHeader {\n    u32 magic;\n} XMDHeader;\n\ntypedef struct _TMDHeader {\n    u32 magic;\n} TMDHeader;\n\n#define TMD_MAGIC 0x41 // 'A\\0\\0\\0'\n#define GMD_MAGIC 0x444d47 // 'GMD\\0'\n\nextern struct_80072ae4 *func_80023638(u32, u32, u32, XMDHeader **, u32, s32);\nextern void func_800250CC(TMDHeader *);\n\nvoid unpac_GMD(u32 arg0, UNPACEntryInfo *entry, void *data) {\n    u32 temp_s3;\n    u32 temp_s2;\n    XMDHeader **temp_s1;\n    \n    temp_s3 = 1;\n    temp_s2 = entry->unkC;\n    temp_s1 = (XMDHeader **)UNPAC_Open2(entry, data);\n    \n    if (temp_s1 != NULL) {\n        switch ((*temp_s1)->magic) {\n            case TMD_MAGIC:\n                func_800250CC((TMDHeader *)*temp_s1);\n                func_80023638(temp_s2, 0, entry->unkE, temp_s1, entry->size, entry->unk10)->unk10 = 0;\n                break;\n            case GMD_MAGIC:\n                func_80023638(temp_s2, 2, entry->unkE, temp_s1, entry->size, -1);\n                temp_s3 = 0;\n                break;\n                \n        }\n        if (temp_s3) {\n            UNPAC_Free1(temp_s1);\n        }\n    }\n}\n", "context": "typedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long long int64_t;\ntypedef unsigned char uint8_t;\ntypedef unsigned short uint16_t;\ntypedef unsigned int uint32_t;\ntypedef unsigned long long uint64_t;\ntypedef unsigned char u_char;\ntypedef unsigned short u_short;\ntypedef unsigned int u_long;\ntypedef unsigned int size_t;\ntypedef signed char s8;\ntypedef signed short s16;\ntypedef signed int s32;\ntypedef signed long long s64;\ntypedef unsigned char u8;\ntypedef unsigned short u16;\ntypedef unsigned int u32;\ntypedef unsigned long long u64;\n\n\ntypedef unsigned long uintptr_t;\n\n#define NULL ((void *)(0))\n\ntypedef struct _UNPACEntryInfo {\n    u32 size;\n    u32 rawDataSize;\n    u16 flags;\n    u16 type;\n    u16 unkC;\n    u16 unkE;\n    u16 unk10;\n    char name[0xc];\n} UNPACEntryInfo;\n\nextern void *UNPAC_Open2(UNPACEntryInfo *, void *);\nextern void UNPAC_Free1(void *);", "diff_flags": [], "diff_label": "func_8003C764", "libraries": []}